metadata:
    name: ptest
    format: "Lava-Test-Shell Test Definition 1.0"
    description: "run OpenEmbedded ptests"
    maintainer:
        - alan.bennett@linaro.org
    os:
        - openembedded
    scope:
        - unit
    devices:
        - beaglebone-black

params:
    TESTNAME: acl
    TESTPATH: /usr/lib/acl/ptest

run:
    steps:
        - "cd $TESTPATH"
        - "./run-ptest > /ptest.log"
        - ". /clean.sh; cat /clean.log"

parse:
    pattern: "(?P<result>(PASS|SKIP|FAIL)):\s.*?(\\$ )?(?P<test_case_id>.*)"
    fixupdict:
        PASS: pass
        FAIL: fail
        SKIP: skip
